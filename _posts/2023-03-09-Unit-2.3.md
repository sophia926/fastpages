---
keywords: fastai
description: Data connections, trends, and correlation.  Pandas is introduced as it could be valuable for PBL, data validation, as well as understanding College Board Topics.
title: Unit 2.3
toc: true
categories: [week25]
nb_path: _notebooks/2023-03-09-Unit-2.3.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-03-09-Unit-2.3.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Files-To-Get">Files To Get<a class="anchor-link" href="#Files-To-Get"> </a></h1><p>Save this file to your <strong>_notebooks</strong> folder</p>
<p>wget <a href="https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/2023-03-09-AP-unit2-3.ipynb">https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/2023-03-09-AP-unit2-3.ipynb</a></p>
<p>Save these files into a subfolder named <strong>files</strong> in your <strong>_notebooks</strong> folder</p>
<p>wget <a href="https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/files/data.csv">https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/files/data.csv</a></p>
<p>wget <a href="https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/files/grade.json">https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/files/grade.json</a></p>
<p>Save this image into a subfolder named <strong>images</strong> in your <strong>_notebooks</strong> folder</p>
<p>wget <a href="https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/images/table_dataframe.png">https://raw.githubusercontent.com/nighthawkcoders/APCSP/master/_notebooks/images/table_dataframe.png</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Pandas-and-DataFrames">Pandas and DataFrames<a class="anchor-link" href="#Pandas-and-DataFrames"> </a></h1><blockquote><p>In this lesson we will be exploring data analysis using Pandas.</p>
</blockquote>
<ul>
<li>College Board talks about ideas like <ul>
<li>Tools. "the ability to process data depends on users capabilities and their tools"</li>
<li>Combining Data.  "combine county data sets"</li>
<li>Status on Data"determining the artist with the greatest attendance during a particular month"</li>
<li>Data poses challenge. "the need to clean data", "incomplete data"</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://pandas.pydata.org/docs/getting_started/index.html">From Pandas Overview</a> -- When working with tabular data, such as data stored in spreadsheets or databases, pandas is the right tool for you. pandas will help you to explore, clean, and process your data. In pandas, a data table is called a DataFrame.</li>
</ul>
<p><img src="/fastpages/images/copied_from_nb/images/table_dataframe.png" alt="DataFrame"></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&#39;&#39;&#39;Pandas is used to gather data sets through its DataFrames implementation&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Cleaning-Data">Cleaning Data<a class="anchor-link" href="#Cleaning-Data"> </a></h1><p>When looking at a data set, check to see what data needs to be cleaned. Examples include:</p>
<ul>
<li>Missing Data Points</li>
<li>Invalid Data</li>
<li>Inaccurate Data</li>
</ul>
<p>Run the following code to see what needs to be cleaned</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;grade.json&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="c1"># What part of the data set needs to be cleaned?</span>
<span class="c1"># From PBL learning, what is a good time to clean data?  Hint, remember Garbage in, Garbage out?</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   Student ID Year in School   GPA
0         123             12  3.57
1         246             10  4.00
2         578             12  2.78
3         469             11  3.45
4         324         Junior  4.75
5         313             20  3.33
6         145             12  2.95
7         167             10  3.90
8         235      9th Grade  3.15
9         nil              9  2.80
10        469             11  3.45
11        456             10  2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Extracting-Info">Extracting Info<a class="anchor-link" href="#Extracting-Info"> </a></h1><p>Take a look at some features that the Pandas library has that extracts info from the dataset</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Extract-Column">DataFrame Extract Column<a class="anchor-link" href="#DataFrame-Extract-Column"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;GPA&#39;</span><span class="p">]])</span>

<span class="nb">print</span><span class="p">()</span>

<span class="c1">#try two columns and remove the index from print statement</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Student ID&#39;</span><span class="p">,</span><span class="s1">&#39;GPA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>     GPA
0   3.57
1   4.00
2   2.78
3   3.45
4   4.75
5   3.33
6   2.95
7   3.90
8   3.15
9   2.80
10  3.45
11  2.75

Student ID  GPA
       123 3.57
       246 4.00
       578 2.78
       469 3.45
       324 4.75
       313 3.33
       145 2.95
       167 3.90
       235 3.15
       nil 2.80
       469 3.45
       456 2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Sort">DataFrame Sort<a class="anchor-link" href="#DataFrame-Sort"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GPA&#39;</span><span class="p">]))</span>

<span class="nb">print</span><span class="p">()</span>

<span class="c1">#sort the values in reverse order</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GPA&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   Student ID Year in School   GPA
11        456             10  2.75
2         578             12  2.78
9         nil              9  2.80
6         145             12  2.95
8         235      9th Grade  3.15
5         313             20  3.33
3         469             11  3.45
10        469             11  3.45
0         123             12  3.57
7         167             10  3.90
1         246             10  4.00
4         324         Junior  4.75

   Student ID Year in School   GPA
4         324         Junior  4.75
1         246             10  4.00
7         167             10  3.90
0         123             12  3.57
3         469             11  3.45
10        469             11  3.45
5         313             20  3.33
8         235      9th Grade  3.15
6         145             12  2.95
9         nil              9  2.80
2         578             12  2.78
11        456             10  2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Selection-or-Filter">DataFrame Selection or Filter<a class="anchor-link" href="#DataFrame-Selection-or-Filter"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">GPA</span> <span class="o">&gt;</span> <span class="mf">3.00</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   Student ID Year in School   GPA
0         123             12  3.57
1         246             10  4.00
3         469             11  3.45
4         324         Junior  4.75
5         313             20  3.33
7         167             10  3.90
8         235      9th Grade  3.15
10        469             11  3.45
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-Selection-Max-and-Min">DataFrame Selection Max and Min<a class="anchor-link" href="#DataFrame-Selection-Max-and-Min"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">GPA</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">GPA</span><span class="o">.</span><span class="n">max</span><span class="p">()])</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">GPA</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">GPA</span><span class="o">.</span><span class="n">min</span><span class="p">()])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>  Student ID Year in School   GPA
4        324         Junior  4.75

   Student ID Year in School   GPA
11        456             10  2.75
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Create-your-own-DataFrame">Create your own DataFrame<a class="anchor-link" href="#Create-your-own-DataFrame"> </a></h1><p>Using Pandas allows you to create your own DataFrame in Python.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Python-Dictionary-to-Pandas-DataFrame">Python Dictionary to Pandas DataFrame<a class="anchor-link" href="#Python-Dictionary-to-Pandas-DataFrame"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1">#the data can be stored as a python dictionary</span>
<span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;calories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">420</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">390</span><span class="p">],</span>
  <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="p">}</span>
<span class="c1">#stores the data in a data frame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------------Dict_to_DF------------------&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----------Dict_to_DF_labels--------------&quot;</span><span class="p">)</span>

<span class="c1">#or with the index argument, you can label rows.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;day1&quot;</span><span class="p">,</span> <span class="s2">&quot;day2&quot;</span><span class="p">,</span> <span class="s2">&quot;day3&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>-------------Dict_to_DF------------------
   calories  duration
0       420        50
1       380        40
2       390        45
----------Dict_to_DF_labels--------------
      calories  duration
day1       420        50
day2       380        40
day3       390        45
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examine-DataFrame-Rows">Examine DataFrame Rows<a class="anchor-link" href="#Examine-DataFrame-Rows"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------Examine Selected Rows---------&quot;</span><span class="p">)</span>
<span class="c1">#use a list for multiple labels:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;day1&quot;</span><span class="p">,</span> <span class="s2">&quot;day3&quot;</span><span class="p">]])</span>

<span class="c1">#refer to the row index:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------Examine Single Row-----------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;day1&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>-------Examine Selected Rows---------
      calories  duration
day1       420        50
day3       390        45
--------Examine Single Row-----------
calories    420
duration     50
Name: day1, dtype: int64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pandas-DataFrame-Information">Pandas DataFrame Information<a class="anchor-link" href="#Pandas-DataFrame-Information"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 3 entries, day1 to day3
Data columns (total 2 columns):
 #   Column    Non-Null Count  Dtype
---  ------    --------------  -----
 0   calories  3 non-null      int64
 1   duration  3 non-null      int64
dtypes: int64(2)
memory usage: 180.0+ bytes
None
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Example-of-larger-data-set">Example of larger data set<a class="anchor-link" href="#Example-of-larger-data-set"> </a></h1><p>Pandas can read CSV and many other types of files, run the following code to see more features with a larger data set</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1">#read csv and sort &#39;Duration&#39; largest to smallest</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;files/data.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Duration&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--Duration Top 10---------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--Duration Bottom 10------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>--Duration Top 10---------
     Duration  Pulse  Maxpulse  Calories
69        300    108       143    1500.2
79        270    100       131    1729.0
109       210    137       184    1860.4
60        210    108       160    1376.0
106       180     90       120     800.3
90        180    101       127     600.1
65        180     90       130     800.4
61        160    110       137    1034.4
62        160    109       135     853.0
67        150    107       130     816.0
--Duration Bottom 10------
     Duration  Pulse  Maxpulse  Calories
68         20    106       136     110.4
100        20     95       112      77.7
89         20     83       107      50.3
135        20    136       156     189.0
94         20    150       171     127.4
95         20    151       168     229.4
139        20    141       162     222.4
64         20    110       130     131.4
112        15    124       139     124.2
93         15     80       100      50.5
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="APIs-are-a-Source-for-Writing-Programs-with-Data">APIs are a Source for Writing Programs with Data<a class="anchor-link" href="#APIs-are-a-Source-for-Writing-Programs-with-Data"> </a></h1><blockquote><p>3rd Party APIs are a great source for creating Pandas Data Frames.</p>
<ul>
<li>Data can be fetched and resulting json can be placed into a Data Frame</li>
<li>Observe output, this looks very similar to a Database</li>
</ul>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&#39;&#39;&#39;Pandas can be used to analyze data&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">fetch</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Obtain data from an endpoint&#39;&#39;&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://flask.nighthawkcodingsociety.com/api/covid/&quot;</span>
    <span class="n">fetch</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">json</span> <span class="o">=</span> <span class="n">fetch</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="c1"># filter data for requirement</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;countries_stat&#39;</span><span class="p">])</span>  <span class="c1"># filter endpoint for country stats</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;country_name&#39;</span><span class="p">:</span><span class="s1">&#39;deaths&#39;</span><span class="p">])</span> <span class="c1"># show row 0 through 5 and columns country_name through deaths</span>
    
<span class="n">fetch</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>  country_name       cases     deaths
0          USA  82,649,779  1,018,316
1        India  43,057,545    522,193
2       Brazil  30,345,654    662,663
3       France  28,244,977    145,020
4      Germany  24,109,433    134,624
5           UK  21,933,206    173,352
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Hacks">Hacks<a class="anchor-link" href="#Hacks"> </a></h1><blockquote><p>Early Seed award</p>
<ul>
<li>Add this Blog to you own Blogging site.</li>
<li>Have all lecture files saved to your files directory before Tech Talk starts. Have data.csv open in vscode. Don't tell anyone. Show to Teacher.</li>
</ul>
<p>AP Prep</p>
<ul>
<li>Add this Blog to you own Blogging site.  In the Blog add notes and observations on each code cell.</li>
<li>In blog add College Board practice problems for 2.3.</li>
</ul>
<p>The next 4 weeks, Teachers want you to improve your understanding of data.  Look at the blog and others on Unit 2.  Your intention is to find some things to differentiate your individual College Board project.</p>
</blockquote>
<ul>
<li><p>Create or Find your own dataset.  The suggestion is to use a JSON file, integrating with your PBL project would be <strong><em>Amazing</em></strong>.</p>
</li>
<li><p>When choosing a data set, think about the following...</p>
<ul>
<li>Does it have a good sample size?</li>
<li>Is there bias in the data?</li>
<li>Does the data set need to be cleaned?</li>
<li>What is the purpose of the data set?</li>
<li>...</li>
</ul>
</li>
<li><p>Continue this Blog using Pandas extract info from that dataset (ex. max, min, mean, median, mode, etc.)</p>
</li>
</ul>
<h2 id="Hack-Helpers">Hack Helpers<a class="anchor-link" href="#Hack-Helpers"> </a></h2><blockquote><p>Here is how Mort started on this assignment by asking ChatGPT  ... Regarding Python Pandas, what are some data sets that would be good for learning Pandas?</p>
</blockquote>
<ul>
<li><p>There are many data sets that are suitable for learning pandas, depending on your interests and the skills you want to develop.</p>
<p>Here are some suggestions...</p>
<ul>
<li>Titanic Dataset:This is a classic dataset for data analysis and machine learning, and is often used as an introduction to pandas. The dataset contains information about passengers on the Titanic, including their demographics, ticket class, and survival status.</li>
<li><p>Iris Dataset: This is another classic dataset that is often used in machine learning and data analysis courses. The dataset contains information about iris flowers, including their sepal length, sepal width, petal length, and petal width.</p>
</li>
<li><p>NBA Player Stats: This dataset contains information about NBA players, including their stats for various games, their positions, and their salaries. It is a great dataset for learning how to clean and manipulate data using pandas.</p>
</li>
<li><p>Housing Prices Dataset: This dataset contains information about housing prices in a particular city or region, including variables such as the number of bedrooms, square footage, and price. It is a great dataset for learning how to manipulate and analyze numerical data using pandas.</p>
</li>
<li><p>COVID-19 Dataset: This dataset contains information about the COVID-19 pandemic, including the number of cases, deaths, and recoveries in various countries and regions. It is a great dataset for learning how to manipulate and analyze time-series data using pandas.</p>
</li>
<li><p>World Bank Dataset: This dataset contains information about economic indicators from various countries, such as GDP, population, and poverty rates. It is a great dataset for learning how to manipulate and analyze large datasets using pandas.</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>These are just a few examples of the many datasets that are suitable for learning pandas. The best dataset for you will depend on your interests and the specific skills you want to develop.</p>
<blockquote><p>Follow up question, "where can I find Titanic data set?"</p>
</blockquote>
</li>
<li><p>The Titanic dataset is a popular dataset for data analysis and machine learning, and it can be found on various websites and data repositories. Here are a few places where you can find the Titanic dataset...</p>
<ul>
<li>Kaggle:The Titanic dataset is available on Kaggle, which is a popular platform for data scientists and machine learning enthusiasts. You can download the dataset from the Kaggle website after creating an account.</li>
<li><p>UCI Machine Learning Repository: The Titanic dataset is also available on the UCI Machine Learning Repository, which is a collection of datasets that are commonly used for machine learning research. You can download the dataset from the UCI Machine Learning Repository website.</p>
</li>
<li><p>Seaborn library: If you have the Seaborn library installed in your Python environment, you can load the Titanic dataset directly from the library using the following code:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">titanic_data</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;titanic&#39;</span><span class="p">)</span>
</pre></div>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emissions_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;fuel-production-consumption.csv&#39;</span><span class="p">)</span>
<span class="n">emissions_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Country</th>
      <th>Gas_Prod</th>
      <th>Gas_Cons</th>
      <th>Coal_Prod</th>
      <th>Coal_Cons</th>
      <th>Oil_Prod</th>
      <th>Oil_Cons</th>
      <th>Gas_Prod_Per_Capita</th>
      <th>Gas_Cons_Per_Capita</th>
      <th>Coal_Prod_Per_Capita</th>
      <th>Coal_Cons_Per_Capita</th>
      <th>Oil_Prod_Per_Capita</th>
      <th>Oil_Cons_Per_Capita</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1980</td>
      <td>Afghanistan</td>
      <td>1.699000e+09</td>
      <td>56640000.0</td>
      <td>119000.0</td>
      <td>119000.0</td>
      <td>0.0</td>
      <td>406500.0</td>
      <td>127.2</td>
      <td>4.241</td>
      <td>0.00891</td>
      <td>0.00891</td>
      <td>0.0</td>
      <td>0.03043</td>
      <td>13360000.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1981</td>
      <td>Afghanistan</td>
      <td>2.237000e+09</td>
      <td>84960000.0</td>
      <td>125000.0</td>
      <td>125000.0</td>
      <td>0.0</td>
      <td>464600.0</td>
      <td>169.9</td>
      <td>6.450</td>
      <td>0.00949</td>
      <td>0.00949</td>
      <td>0.0</td>
      <td>0.03527</td>
      <td>13170000.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1982</td>
      <td>Afghanistan</td>
      <td>2.294000e+09</td>
      <td>141600000.0</td>
      <td>145000.0</td>
      <td>145000.0</td>
      <td>0.0</td>
      <td>452900.0</td>
      <td>178.1</td>
      <td>10.990</td>
      <td>0.01126</td>
      <td>0.01126</td>
      <td>0.0</td>
      <td>0.03516</td>
      <td>12880000.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1983</td>
      <td>Afghanistan</td>
      <td>2.407000e+09</td>
      <td>141600000.0</td>
      <td>145000.0</td>
      <td>145000.0</td>
      <td>0.0</td>
      <td>638800.0</td>
      <td>192.0</td>
      <td>11.290</td>
      <td>0.01157</td>
      <td>0.01157</td>
      <td>0.0</td>
      <td>0.05095</td>
      <td>12540000.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1984</td>
      <td>Afghanistan</td>
      <td>2.407000e+09</td>
      <td>141600000.0</td>
      <td>148000.0</td>
      <td>148000.0</td>
      <td>0.0</td>
      <td>638800.0</td>
      <td>197.2</td>
      <td>11.600</td>
      <td>0.01213</td>
      <td>0.01213</td>
      <td>0.0</td>
      <td>0.05234</td>
      <td>12200000.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emissions_df</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Year                               2021
Country                        Zimbabwe
Gas_Prod                4040000000000.0
Gas_Cons                4000000000000.0
Coal_Prod                  8144000000.0
Coal_Cons                  8179000000.0
Oil_Prod                   4817000000.0
Oil_Cons                   5820000000.0
Gas_Prod_Per_Capita             71520.0
Gas_Cons_Per_Capita             27160.0
Coal_Prod_Per_Capita              21.77
Coal_Cons_Per_Capita              7.093
Oil_Prod_Per_Capita               233.0
Oil_Cons_Per_Capita               125.8
Population                 7786000000.0
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emissions_df</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Year                           1973
Country                 Afghanistan
Gas_Prod                        0.0
Gas_Cons                        0.0
Coal_Prod                       0.0
Coal_Cons                       0.0
Oil_Prod                        0.0
Oil_Cons                        0.0
Gas_Prod_Per_Capita             0.0
Gas_Cons_Per_Capita             0.0
Coal_Prod_Per_Capita            0.0
Coal_Cons_Per_Capita            0.0
Oil_Prod_Per_Capita             0.0
Oil_Cons_Per_Capita             0.0
Population                    959.0
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emissions_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Gas_Prod</th>
      <th>Gas_Cons</th>
      <th>Coal_Prod</th>
      <th>Coal_Cons</th>
      <th>Oil_Prod</th>
      <th>Oil_Cons</th>
      <th>Gas_Prod_Per_Capita</th>
      <th>Gas_Cons_Per_Capita</th>
      <th>Coal_Prod_Per_Capita</th>
      <th>Coal_Cons_Per_Capita</th>
      <th>Oil_Prod_Per_Capita</th>
      <th>Oil_Cons_Per_Capita</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9237.000000</td>
      <td>8.708000e+03</td>
      <td>8.689000e+03</td>
      <td>8.817000e+03</td>
      <td>8.817000e+03</td>
      <td>8.792000e+03</td>
      <td>8.555000e+03</td>
      <td>7689.000000</td>
      <td>7671.000000</td>
      <td>7757.000000</td>
      <td>7757.000000</td>
      <td>7820.000000</td>
      <td>7601.000000</td>
      <td>8.132000e+03</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2000.443434</td>
      <td>2.383170e+10</td>
      <td>2.392697e+10</td>
      <td>5.261801e+07</td>
      <td>5.215915e+07</td>
      <td>4.141132e+07</td>
      <td>4.550758e+07</td>
      <td>963.569615</td>
      <td>612.621901</td>
      <td>0.424189</td>
      <td>0.434401</td>
      <td>2.414781</td>
      <td>1.392495</td>
      <td>6.719422e+07</td>
    </tr>
    <tr>
      <th>std</th>
      <td>12.439275</td>
      <td>1.896607e+11</td>
      <td>1.891655e+11</td>
      <td>4.355659e+08</td>
      <td>4.349869e+08</td>
      <td>2.901607e+08</td>
      <td>3.268641e+08</td>
      <td>4554.541934</td>
      <td>2008.360465</td>
      <td>1.577120</td>
      <td>1.028148</td>
      <td>11.332552</td>
      <td>4.256257</td>
      <td>4.709697e+08</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1973.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>9.590000e+02</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1990.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>3.233000e+05</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.152800</td>
      <td>1.308750e+06</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2001.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>1.221000e+03</td>
      <td>0.000000e+00</td>
      <td>1.568000e+06</td>
      <td>0.000000</td>
      <td>1.406000</td>
      <td>0.000000</td>
      <td>0.002069</td>
      <td>0.000000</td>
      <td>0.583400</td>
      <td>6.651000e+06</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2011.000000</td>
      <td>1.614000e+09</td>
      <td>3.981000e+09</td>
      <td>1.720000e+05</td>
      <td>2.001000e+06</td>
      <td>3.194000e+06</td>
      <td>1.207000e+07</td>
      <td>112.100000</td>
      <td>450.500000</td>
      <td>0.022110</td>
      <td>0.254800</td>
      <td>0.280250</td>
      <td>1.650000</td>
      <td>2.144750e+07</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2021.000000</td>
      <td>4.040000e+12</td>
      <td>4.000000e+12</td>
      <td>8.144000e+09</td>
      <td>8.179000e+09</td>
      <td>4.817000e+09</td>
      <td>5.820000e+09</td>
      <td>71520.000000</td>
      <td>27160.000000</td>
      <td>21.770000</td>
      <td>7.093000</td>
      <td>233.000000</td>
      <td>125.800000</td>
      <td>7.786000e+09</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuel_final</span> <span class="o">=</span> <span class="n">emissions_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">fuel_final</span> <span class="o">=</span> <span class="n">fuel_final</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Gas_Prod_Per_Capita&#39;</span><span class="p">,</span> <span class="s1">&#39;Gas_Cons_Per_Capita&#39;</span><span class="p">,</span> <span class="s1">&#39;Coal_Prod_Per_Capita&#39;</span><span class="p">,</span> <span class="s1">&#39;Coal_Cons_Per_Capita&#39;</span><span class="p">,</span> <span class="s1">&#39;Oil_Prod_Per_Capita&#39;</span><span class="p">,</span> <span class="s1">&#39;Oil_Cons_Per_Capita&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fuel_final</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fuel_final</span><span class="p">))</span>

<span class="c1"># remove zeroes</span>
<span class="n">fuel_empty</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fuel_final</span><span class="p">)):</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Gas_Prod&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">fuel_empty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
  <span class="k">elif</span> <span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Gas_Cons&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">fuel_empty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
  <span class="k">elif</span> <span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Coal_Prod&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">fuel_empty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
  <span class="k">elif</span> <span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Coal_Prod&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">fuel_empty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
  <span class="k">elif</span> <span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Oil_Prod&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">fuel_empty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
  <span class="k">elif</span> <span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Oil_Cons&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">fuel_empty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="n">fuel_final</span> <span class="o">=</span> <span class="n">fuel_final</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">fuel_empty</span><span class="p">])</span>
<span class="n">fuel_final</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fuel_final</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuel_final</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Gas_Prod</th>
      <th>Gas_Cons</th>
      <th>Coal_Prod</th>
      <th>Coal_Cons</th>
      <th>Oil_Prod</th>
      <th>Oil_Cons</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1853.000000</td>
      <td>1.853000e+03</td>
      <td>1.853000e+03</td>
      <td>1.853000e+03</td>
      <td>1.853000e+03</td>
      <td>1.853000e+03</td>
      <td>1.853000e+03</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2000.686454</td>
      <td>9.785606e+10</td>
      <td>9.927935e+10</td>
      <td>2.302688e+08</td>
      <td>2.256243e+08</td>
      <td>1.362930e+08</td>
      <td>1.709018e+08</td>
    </tr>
    <tr>
      <th>std</th>
      <td>11.140106</td>
      <td>3.984665e+11</td>
      <td>3.977010e+11</td>
      <td>9.048997e+08</td>
      <td>9.056939e+08</td>
      <td>5.744224e+08</td>
      <td>6.720070e+08</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1980.000000</td>
      <td>1.000000e+06</td>
      <td>9.912000e+06</td>
      <td>9.000000e+02</td>
      <td>3.176000e+03</td>
      <td>2.904000e+02</td>
      <td>2.288000e+05</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1992.000000</td>
      <td>1.161000e+09</td>
      <td>3.820000e+09</td>
      <td>1.020000e+06</td>
      <td>1.899000e+06</td>
      <td>7.549000e+05</td>
      <td>9.789000e+06</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2001.000000</td>
      <td>9.003000e+09</td>
      <td>1.340000e+10</td>
      <td>6.933000e+06</td>
      <td>1.744000e+07</td>
      <td>4.524000e+06</td>
      <td>2.246000e+07</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2010.000000</td>
      <td>3.530000e+10</td>
      <td>4.034000e+10</td>
      <td>6.426000e+07</td>
      <td>6.453000e+07</td>
      <td>7.481000e+07</td>
      <td>8.898000e+07</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2020.000000</td>
      <td>4.040000e+12</td>
      <td>4.000000e+12</td>
      <td>8.144000e+09</td>
      <td>8.179000e+09</td>
      <td>4.817000e+09</td>
      <td>5.820000e+09</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuel_final</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Year              1980
Country        Albania
Gas_Prod     1000000.0
Gas_Cons     9912000.0
Coal_Prod        900.0
Coal_Cons       3176.0
Oil_Prod         290.4
Oil_Cons      228800.0
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">correlation</span><span class="p">(</span><span class="n">country</span><span class="p">):</span>

  <span class="n">corr_data</span> <span class="o">=</span> <span class="n">fuel_final</span><span class="p">[</span><span class="n">fuel_final</span><span class="o">.</span><span class="n">Country</span> <span class="o">==</span> <span class="n">country</span><span class="p">]</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">country</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The correlation between gas production and consumption is: &quot;</span><span class="p">,</span> <span class="n">corr_data</span><span class="p">[</span><span class="s1">&#39;Gas_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">corr_data</span><span class="p">[</span><span class="s1">&#39;Gas_Cons&#39;</span><span class="p">]))</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The correlation between coal production and consumption is: &quot;</span><span class="p">,</span> <span class="n">corr_data</span><span class="p">[</span><span class="s1">&#39;Coal_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">corr_data</span><span class="p">[</span><span class="s1">&#39;Coal_Cons&#39;</span><span class="p">]))</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The correlation between oil production and consumption is: &quot;</span><span class="p">,</span> <span class="n">corr_data</span><span class="p">[</span><span class="s1">&#39;Oil_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">corr_data</span><span class="p">[</span><span class="s1">&#39;Oil_Cons&#39;</span><span class="p">]))</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fuel_final</span><span class="o">.</span><span class="n">Country</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
  <span class="n">correlation</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Albania
The correlation between gas production and consumption is:  1.0
The correlation between coal production and consumption is:  0.9983671135750389
The correlation between oil production and consumption is:  0.7269680841195096


Algeria
The correlation between gas production and consumption is:  0.8284234639601752
The correlation between coal production and consumption is:  0.3192372115918825
The correlation between oil production and consumption is:  0.8338354337119105


Argentina
The correlation between gas production and consumption is:  0.9280700903964625
The correlation between coal production and consumption is:  -0.12951811472076866
The correlation between oil production and consumption is:  -0.11525627305459005


Australia
The correlation between gas production and consumption is:  0.9134223143571423
The correlation between coal production and consumption is:  0.7171564919877736
The correlation between oil production and consumption is:  -0.48336410244708533


Austria
The correlation between gas production and consumption is:  0.6585969526316259
The correlation between coal production and consumption is:  0.6746863339853054
The correlation between oil production and consumption is:  -0.6617415122382505


Bangladesh
The correlation between gas production and consumption is:  0.9954085972905028
The correlation between coal production and consumption is:  0.6184563728036183
The correlation between oil production and consumption is:  -0.9069198871901405


Brazil
The correlation between gas production and consumption is:  0.9810553072041654
The correlation between coal production and consumption is:  0.2384133236648425
The correlation between oil production and consumption is:  0.9637617252090602


Bulgaria
The correlation between gas production and consumption is:  -0.15111220036099837
The correlation between coal production and consumption is:  0.8659910124000999
The correlation between oil production and consumption is:  0.8763819224978519


Canada
The correlation between gas production and consumption is:  0.8320819818151721
The correlation between coal production and consumption is:  0.6082292711571285
The correlation between oil production and consumption is:  0.9045684582301484


Chile
The correlation between gas production and consumption is:  0.04855788860424116
The correlation between coal production and consumption is:  0.35681087513943216
The correlation between oil production and consumption is:  -0.8911358708539838


China
The correlation between gas production and consumption is:  0.985059119010339
The correlation between coal production and consumption is:  0.9983081243490006
The correlation between oil production and consumption is:  0.8893156039330106


Colombia
The correlation between gas production and consumption is:  0.9796652790343146
The correlation between coal production and consumption is:  0.3831450321252026
The correlation between oil production and consumption is:  0.9441848111059311


Croatia
The correlation between gas production and consumption is:  -0.06021330629606104
The correlation between coal production and consumption is:  0.7994111564321135
The correlation between oil production and consumption is:  -0.640239975943251


Czechia
The correlation between gas production and consumption is:  -0.6974901041779209
The correlation between coal production and consumption is:  0.9915337520986545
The correlation between oil production and consumption is:  0.1852268207575415


Egypt
The correlation between gas production and consumption is:  0.9497340948323015
The correlation between coal production and consumption is:  0.5835421597482772
The correlation between oil production and consumption is:  -0.673893290855846


France
The correlation between gas production and consumption is:  -0.7251693943829752
The correlation between coal production and consumption is:  0.9185531927941775
The correlation between oil production and consumption is:  -0.6634323024669895


Georgia
The correlation between gas production and consumption is:  -0.23411302102915654
The correlation between coal production and consumption is:  0.8815106543502035
The correlation between oil production and consumption is:  -0.6055968331166464


Germany
The correlation between gas production and consumption is:  -0.14919784306529152
The correlation between coal production and consumption is:  0.9775104225872394
The correlation between oil production and consumption is:  0.659772516244861


Greece
The correlation between gas production and consumption is:  -0.7748248194967237
The correlation between coal production and consumption is:  0.9973055058940936
The correlation between oil production and consumption is:  -0.6397448404647996


Hungary
The correlation between gas production and consumption is:  -0.061786406076335704
The correlation between coal production and consumption is:  0.9968639876141443
The correlation between oil production and consumption is:  0.6071942565891912


India
The correlation between gas production and consumption is:  0.9449739068277528
The correlation between coal production and consumption is:  0.982881209094128
The correlation between oil production and consumption is:  0.6645858666917066


Indonesia
The correlation between gas production and consumption is:  0.938300304325842
The correlation between coal production and consumption is:  0.9852700313312451
The correlation between oil production and consumption is:  -0.8692344012555523


Iran
The correlation between gas production and consumption is:  0.9987553096547839
The correlation between coal production and consumption is:  0.11297599443514915
The correlation between oil production and consumption is:  0.7513424050393397


Italy
The correlation between gas production and consumption is:  -0.44515374642790906
The correlation between coal production and consumption is:  0.05123790597985525
The correlation between oil production and consumption is:  -0.22127605989837382


Japan
The correlation between gas production and consumption is:  0.7273061318009235
The correlation between coal production and consumption is:  -0.9161029264045187
The correlation between oil production and consumption is:  0.5062980513082399


Kazakhstan
The correlation between gas production and consumption is:  0.15222274230563682
The correlation between coal production and consumption is:  0.9723059274623547
The correlation between oil production and consumption is:  0.19452782154957043


Kyrgyzstan
The correlation between gas production and consumption is:  0.2460199278170101
The correlation between coal production and consumption is:  0.7737301455373388
The correlation between oil production and consumption is:  -0.7080965079348311


Malaysia
The correlation between gas production and consumption is:  0.9890481404893454
The correlation between coal production and consumption is:  0.9592350629636897
The correlation between oil production and consumption is:  0.2730588478343626


Mexico
The correlation between gas production and consumption is:  0.6639389207997793
The correlation between coal production and consumption is:  0.9381013926821217
The correlation between oil production and consumption is:  0.2854917900409883


Morocco
The correlation between gas production and consumption is:  0.21097733501831528
The correlation between coal production and consumption is:  -0.9362012254190981
The correlation between oil production and consumption is:  -0.7606558378998611


Myanmar
The correlation between gas production and consumption is:  0.9599589479846825
The correlation between coal production and consumption is:  0.9189250643592559
The correlation between oil production and consumption is:  -0.305815164142203


New Zealand
The correlation between gas production and consumption is:  0.997794372600727
The correlation between coal production and consumption is:  0.8824108190793091
The correlation between oil production and consumption is:  0.1931655679172063


Nigeria
The correlation between gas production and consumption is:  0.9431108914030848
The correlation between coal production and consumption is:  0.934434116462668
The correlation between oil production and consumption is:  0.34104488581072323


Norway
The correlation between gas production and consumption is:  0.7330869914203065
The correlation between coal production and consumption is:  -0.5541619130430874
The correlation between oil production and consumption is:  0.5855104141353953


Pakistan
The correlation between gas production and consumption is:  0.9858419916634996
The correlation between coal production and consumption is:  0.8253671790562133
The correlation between oil production and consumption is:  0.8996767909923996


Peru
The correlation between gas production and consumption is:  0.9888783302148328
The correlation between coal production and consumption is:  0.12800223522910248
The correlation between oil production and consumption is:  -0.8024665565142914


Philippines
The correlation between gas production and consumption is:  0.9999962018758283
The correlation between coal production and consumption is:  0.9688230340538656
The correlation between oil production and consumption is:  -0.5920034312791445


Poland
The correlation between gas production and consumption is:  0.3551558222634344
The correlation between coal production and consumption is:  0.9796099107965117
The correlation between oil production and consumption is:  0.8921274061839379


Romania
The correlation between gas production and consumption is:  0.9783453135343
The correlation between coal production and consumption is:  0.9893225750571135
The correlation between oil production and consumption is:  0.8994459348690592


Russia
The correlation between gas production and consumption is:  0.9419470334164719
The correlation between coal production and consumption is:  -0.21083401242824787
The correlation between oil production and consumption is:  0.5507860321120374


Serbia
The correlation between gas production and consumption is:  0.31531906059312187
The correlation between coal production and consumption is:  0.983579076367945
The correlation between oil production and consumption is:  -0.7101095648951388


Slovakia
The correlation between gas production and consumption is:  0.6897074750519705
The correlation between coal production and consumption is:  0.8827055240582095
The correlation between oil production and consumption is:  -0.7471051074795697


Slovenia
The correlation between gas production and consumption is:  -0.13462047463517798
The correlation between coal production and consumption is:  0.9851363021999034
The correlation between oil production and consumption is:  -0.7471079387860973


South Africa
The correlation between gas production and consumption is:  -0.49339340164649725
The correlation between coal production and consumption is:  0.9143541765933124
The correlation between oil production and consumption is:  -0.7396351462508706


Spain
The correlation between gas production and consumption is:  -0.6044706796216464
The correlation between coal production and consumption is:  0.8911000149701018
The correlation between oil production and consumption is:  -0.8117230700072131


Taiwan
The correlation between gas production and consumption is:  -0.4713261364343826
The correlation between coal production and consumption is:  -0.8753469349790672
The correlation between oil production and consumption is:  -0.8164451404317592


Tajikistan
The correlation between gas production and consumption is:  0.6965032578748406
The correlation between coal production and consumption is:  0.9983854510126821
The correlation between oil production and consumption is:  0.10071815943063475


Thailand
The correlation between gas production and consumption is:  0.993732041029292
The correlation between coal production and consumption is:  0.8170646900500173
The correlation between oil production and consumption is:  0.946114215023692


Turkey
The correlation between gas production and consumption is:  0.6012012301579368
The correlation between coal production and consumption is:  0.960203470002108
The correlation between oil production and consumption is:  -0.1333529515489173


Ukraine
The correlation between gas production and consumption is:  -0.40461011161362054
The correlation between coal production and consumption is:  0.9785370443288366
The correlation between oil production and consumption is:  0.690634107446907


United Kingdom
The correlation between gas production and consumption is:  0.7409434244067105
The correlation between coal production and consumption is:  0.9334066914492226
The correlation between oil production and consumption is:  0.5880517269272993


United States
The correlation between gas production and consumption is:  0.9272276775479863
The correlation between coal production and consumption is:  0.972041780313141
The correlation between oil production and consumption is:  -0.3030309016126291


Uzbekistan
The correlation between gas production and consumption is:  0.8421127208007584
The correlation between coal production and consumption is:  0.8952945082754322
The correlation between oil production and consumption is:  0.4212094929689429


Venezuela
The correlation between gas production and consumption is:  0.9872840363217603
The correlation between coal production and consumption is:  -0.05987035192924389
The correlation between oil production and consumption is:  0.23592620866951014


Vietnam
The correlation between gas production and consumption is:  0.999999894146438
The correlation between coal production and consumption is:  0.797305147060114
The correlation between oil production and consumption is:  0.6936404350579995


World
The correlation between gas production and consumption is:  0.9995402721550243
The correlation between coal production and consumption is:  0.9981437543533751
The correlation between oil production and consumption is:  0.9951371074298835


</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Collegeboard-Quiz">Collegeboard Quiz<a class="anchor-link" href="#Collegeboard-Quiz"> </a></h3><p>I got 5/6
<img src="/fastpages/images/copied_from_nb/../images/week25quiz2.png" alt="title"></p>
<p>Here is the question I got wrong. I thought that amount of food could determine how popular the artist was, but now I realized that the average ticket price could be used to accurately determine the number of attendees by dividing total dollar amount of tickets sold by average ticket price.
<img src="/fastpages/images/copied_from_nb/../images/week25quiz3.jpg" alt="title"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Titanic-Data">Titanic Data<a class="anchor-link" href="#Titanic-Data"> </a></h3><blockquote><p>Look at a sample of data.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Load the titanic dataset</span>
<span class="n">titanic_data</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;titanic&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Titanic Data&quot;</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="n">titanic_data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="c1"># titanic data set</span>

<span class="nb">print</span><span class="p">(</span><span class="n">titanic_data</span><span class="p">[[</span><span class="s1">&#39;survived&#39;</span><span class="p">,</span><span class="s1">&#39;pclass&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;sibsp&#39;</span><span class="p">,</span> <span class="s1">&#39;parch&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;fare&#39;</span><span class="p">,</span> <span class="s1">&#39;embark_town&#39;</span><span class="p">]])</span> <span class="c1"># look at selected columns</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Titanic Data
Index([&#39;survived&#39;, &#39;pclass&#39;, &#39;sex&#39;, &#39;age&#39;, &#39;sibsp&#39;, &#39;parch&#39;, &#39;fare&#39;,
       &#39;embarked&#39;, &#39;class&#39;, &#39;who&#39;, &#39;adult_male&#39;, &#39;deck&#39;, &#39;embark_town&#39;,
       &#39;alive&#39;, &#39;alone&#39;],
      dtype=&#39;object&#39;)
     survived  pclass     sex   age  sibsp  parch   class     fare  \
0           0       3    male  22.0      1      0   Third   7.2500   
1           1       1  female  38.0      1      0   First  71.2833   
2           1       3  female  26.0      0      0   Third   7.9250   
3           1       1  female  35.0      1      0   First  53.1000   
4           0       3    male  35.0      0      0   Third   8.0500   
..        ...     ...     ...   ...    ...    ...     ...      ...   
886         0       2    male  27.0      0      0  Second  13.0000   
887         1       1  female  19.0      0      0   First  30.0000   
888         0       3  female   NaN      1      2   Third  23.4500   
889         1       1    male  26.0      0      0   First  30.0000   
890         0       3    male  32.0      0      0   Third   7.7500   

     embark_town  
0    Southampton  
1      Cherbourg  
2    Southampton  
3    Southampton  
4    Southampton  
..           ...  
886  Southampton  
887  Southampton  
888  Southampton  
889    Cherbourg  
890   Queenstown  

[891 rows x 9 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Use Pandas to clean the data.  Most analysis, like Machine Learning or even Pandas in general like data to be in standardized format.  This is called 'Training' or 'Cleaning' data.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Preprocess the data</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">OneHotEncoder</span>


<span class="n">td</span> <span class="o">=</span> <span class="n">titanic_data</span>
<span class="n">td</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;alive&#39;</span><span class="p">,</span> <span class="s1">&#39;who&#39;</span><span class="p">,</span> <span class="s1">&#39;adult_male&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;embark_town&#39;</span><span class="p">,</span> <span class="s1">&#39;deck&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">td</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">td</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">td</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;male&#39;</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">td</span><span class="p">[</span><span class="s1">&#39;alone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">td</span><span class="p">[</span><span class="s1">&#39;alone&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="kc">True</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># Encode categorical variables</span>
<span class="n">enc</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="n">enc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">td</span><span class="p">[[</span><span class="s1">&#39;embarked&#39;</span><span class="p">]])</span>
<span class="n">onehot</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">td</span><span class="p">[[</span><span class="s1">&#39;embarked&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;embarked_&#39;</span> <span class="o">+</span> <span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">enc</span><span class="o">.</span><span class="n">categories_</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">td</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">onehot</span><span class="p">)</span>
<span class="n">td</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;embarked&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">td</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">td</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>     survived  pclass  sex   age  sibsp  parch      fare  alone  embarked_C  \
0           0       3    1  22.0      1      0    7.2500      0         0.0   
1           1       1    0  38.0      1      0   71.2833      0         1.0   
2           1       3    0  26.0      0      0    7.9250      1         0.0   
3           1       1    0  35.0      1      0   53.1000      0         0.0   
4           0       3    1  35.0      0      0    8.0500      1         0.0   
..        ...     ...  ...   ...    ...    ...       ...    ...         ...   
705         0       2    1  39.0      0      0   26.0000      1         0.0   
706         1       2    0  45.0      0      0   13.5000      1         0.0   
707         1       1    1  42.0      0      0   26.2875      1         0.0   
708         1       1    0  22.0      0      0  151.5500      1         0.0   
710         1       1    0  24.0      0      0   49.5042      1         1.0   

     embarked_Q  embarked_S  
0           0.0         1.0  
1           0.0         0.0  
2           0.0         1.0  
3           0.0         1.0  
4           0.0         1.0  
..          ...         ...  
705         0.0         1.0  
706         0.0         1.0  
707         1.0         0.0  
708         0.0         1.0  
710         0.0         0.0  

[564 rows x 11 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>The result of 'Training' data is making it easier to analyze or make conclusions.  In looking at the Titanic, as you clean you would probably want to make assumptions on likely chance of survival.</p>
</blockquote>
<p>This would involve analyzing various factors (such as age, gender, class, etc.) that may have affected a person's chances of survival, and using that information to make predictions about whether an individual would have survived or not.</p>
<ul>
<li><p>Data description:- Survival - Survival (0 = No; 1 = Yes). Not included in test.csv file.    - Pclass - Passenger Class (1 = 1st; 2 = 2nd; 3 = 3rd)</p>
<ul>
<li>Name - Name</li>
<li>Sex - Sex</li>
<li>Age - Age</li>
<li>Sibsp - Number of Siblings/Spouses Aboard</li>
<li>Parch - Number of Parents/Children Aboard</li>
<li>Ticket - Ticket Number</li>
<li>Fare - Passenger Fare</li>
<li>Cabin - Cabin</li>
<li>Embarked - Port of Embarkation (C = Cherbourg; Q = Queenstown; S = Southampton)</li>
</ul>
</li>
<li><p>Perished Mean/Average</p>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">titanic_data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;survived == 0&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>survived       0.000000
pclass         2.464072
sex            0.844311
age           31.073353
sibsp          0.562874
parch          0.398204
fare          24.835902
alone          0.616766
embarked_C     0.185629
embarked_Q     0.038922
embarked_S     0.775449
dtype: float64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Survived Mean/Average</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">td</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;survived == 1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>survived       1.000000
pclass         1.878261
sex            0.326087
age           28.481522
sibsp          0.504348
parch          0.508696
fare          50.188806
alone          0.456522
embarked_C     0.152174
embarked_Q     0.034783
embarked_S     0.813043
dtype: float64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Survived Max and Min Stats</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">td</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;survived == 1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">td</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;survived == 1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>survived        1.0000
pclass          3.0000
sex             1.0000
age            80.0000
sibsp           4.0000
parch           5.0000
fare          512.3292
alone           1.0000
embarked_C      1.0000
embarked_Q      1.0000
embarked_S      1.0000
dtype: float64
survived      1.00
pclass        1.00
sex           0.00
age           0.75
sibsp         0.00
parch         0.00
fare          0.00
alone         0.00
embarked_C    0.00
embarked_Q    0.00
embarked_S    0.00
dtype: float64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Machine-Learning-Visit-Tutorials-Point">Machine Learning <a href="https://www.tutorialspoint.com/scikit_learn/scikit_learn_introduction.htm#:~:text=Scikit%2Dlearn%20(Sklearn)%20is,a%20consistence%20interface%20in%20Python">Visit Tutorials Point</a><a class="anchor-link" href="#Machine-Learning-Visit-Tutorials-Point"> </a></h2><blockquote><p>Scikit-learn (Sklearn) is the most useful and robust library for machine learning in Python. It provides a selection of efficient tools for machine learning and statistical modeling including classification, regression, clustering and dimensionality reduction via a consistence interface in Python.</p>
</blockquote>
<ul>
<li><p>Description from ChatGPT. The Titanic dataset is a popular dataset for data analysis and machine learning. In the context of machine learning, accuracy refers to the percentage of correctly classified instances in a set of predictions. In this case, the testing data is a subset of the original Titanic dataset that the decision tree model has not seen during training......After training the decision tree model on the training data, we can evaluate its performance on the testing data by making predictions on the testing data and comparing them to the actual outcomes. The accuracy of the decision tree classifier on the testing data tells us how well the model generalizes to new data that it hasn't seen before......For example, if the accuracy of the decision tree classifier on the testing data is 0.8 (or 80%), this means that 80% of the predictions made by the model on the testing data were correct....Chance of survival could be done using various machine learning techniques, including decision trees, logistic regression, or support vector machines, among others.</p>
</li>
<li><p>Code Below prepares data for further analysis and provides an Accuracy.  IMO, you would insert a new passenger and predict survival.  Datasets could be used on various factors like prediction if a player will hit a Home Run, or a Stock will go up or down.</p>
<ul>
<li><a href="https://scikit-learn.org/stable/modules/tree.html#tree">Decision Trees</a>, prediction by a piecewise constant approximation.    </li>
<li><a href="https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression">Logistic Regression</a>, the probabilities describing the possible outcomes.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Split arrays or matrices into random train and test subsets.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">td</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;survived&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">td</span><span class="p">[</span><span class="s1">&#39;survived&#39;</span><span class="p">]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Train a decision tree classifier</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">()</span>
<span class="n">dt</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Test the model</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;DecisionTreeClassifier Accuracy:&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>

<span class="c1"># Train a logistic regression model</span>
<span class="n">logreg</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
<span class="n">logreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Test the model</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">logreg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;LogisticRegression Accuracy:&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>DecisionTreeClassifier Accuracy: 0.7705882352941177
LogisticRegression Accuracy: 0.788235294117647
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/johnmortensen/opt/anaconda3/lib/python3.9/site-packages/sklearn/linear_model/_logistic.py:814: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

