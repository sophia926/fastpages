<table>
    <tr>
        <td><img src="/fastpages/images/week5javalogo.jpg" height="60" title="Sophia's API Navigation Bar" alt="" /></td>
        <td><a href="/fastpages/week7/2022/10/06/API.html">API Documentation</a></td>
        <td><a href="/fastpages/api/gratitude">Gratitudes</a></td>
    </tr>
</table>
<html> 
<head>
    <title>What are you grateful for? </title>
    <style type="text/css">
    body {margin: 30px;}
    </style> 
</head>
<body>

<form>
    <input type="button" onclick="gratitudeGen()" value="Press to generate a gratitude question! :)" />
</form>
<p>Gratitude question: <br />
    <span id="result"></span>
</p>
<form>
    Your answer: <input type="text" id="answer" /><br />
    <input type="button" onclick="gratitudeSubmit()" value="Submit! :)" />
</form>
<p>You are grateful for.. <br />
    <span id="userResponse"></span>
</p>
<p><br />
    <span id="congrats"></span>
</p>


<script>
    function gratitudeGen() {
        const options = {
            method: 'GET',
            headers: {
                'X-RapidAPI-Key': '222daebd02msh197e0db183672fap17cc9djsn8a1f2f813e5b',
                'X-RapidAPI-Host': 'gratitude-questions.p.rapidapi.com'
            }
        };

        fetch('https://gratitude-questions.p.rapidapi.com/question', options)
            .then(response => response.json())
            // .then(response => console.log(response))
            // .then(response => (question = response))
            .then(response => (document.getElementById("result").innerHTML = response['question']))
            .catch(err => console.error(err));
    }
    function gratitudeSubmit() {
        users = document.getElementById("answer").value;
        document.getElementById("userResponse").innerHTML = users;
        document.getElementById("congrats").innerHTML = "Congrats! You are being grateful, that is good for your mental health!";
    }
</script>

</body>
</html>
